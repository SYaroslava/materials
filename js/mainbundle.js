(()=>{const e=document.querySelectorAll(".category"),t=document.querySelector(".examples__tabs"),s=document.querySelector(".examples__categories");let n={},i=0;class r{constructor(e,s,n){this.category=n,this.tab=t.querySelector(`[data-tab="${e}"]`),this.index=s,this.prevBtn=this.tab.querySelector(".prev-category"),this.nextBtn=this.tab.querySelector(".next-category"),this.tabInfo=this.tab.querySelector(".tab__info"),this.targetElement=this.tab.querySelector(".tab__picture"),this.closeTab=this.closeTab.bind(this),this.openTab=this.openTab.bind(this),this.prevTab=this.prevTab.bind(this),this.nextTab=this.nextTab.bind(this)}moveTabInfo(e){e?this.tab.insertAdjacentElement("afterbegin",this.tabInfo):this.targetElement.insertAdjacentElement("afterend",this.tabInfo)}addEventListeners(){null!=this.prevBtn&&this.prevBtn.addEventListener("click",this.prevTab),null!=this.nextBtn&&this.nextBtn.addEventListener("click",this.nextTab)}removeEventListeners(){null!=this.prevBtn&&this.prevBtn.removeEventListener("click",this.prevTab),null!=this.nextBtn&&this.nextBtn.removeEventListener("click",this.nextTab)}prevTab(){this.closeTab(),i=this.index-1,n[i].openTab()}nextTab(){this.closeTab(),i=this.index+1,n[i].openTab()}closeTab(){this.category.classList.remove("_active"),this.tab.classList.remove("_open"),this.removeEventListeners()}openTab(){this.category.classList.add("_active"),this.tab.classList.add("_open"),this.addEventListeners()}}for(let t=0;t<e.length;t++){const s=e[t],a=new r(s.dataset.tab,t,s);n[t]=a,s.addEventListener("click",(e=>{i!=t&&(i=t,o(),n[t].openTab())}))}function o(){t.querySelector(".tab._open").classList.remove("_open"),s.querySelector(".category._active").classList.remove("_active")}function a(){if(window.matchMedia("(max-width: 768px)").matches)for(let t=0;t<e.length;t++)n[t].moveTabInfo(!0);else for(let t=0;t<e.length;t++)n[t].moveTabInfo(!1)}n[i].addEventListeners(),a();class l{constructor(e,t,s=0){this.section=e,this.sliderWrapper=this.section.querySelector(".slider"),this.sliderBody=this.section.querySelector(".slider__body"),this.sliderItems=this.sliderBody.querySelectorAll(".slider__item"),this.arrowNext=this.sliderWrapper.querySelector(".arrow-next"),this.arrowPrev=this.sliderWrapper.querySelector(".arrow-prev"),this.translate=0,this.translateStep=t,this.shownItems=Math.floor(this.sliderBody.clientWidth/this.translateStep),this.maxValue=(this.sliderItems.length-this.shownItems)*this.translateStep*-1,this.nextSlide=this.nextSlide.bind(this),this.prevSlide=this.prevSlide.bind(this),this.addListeners()}setShownItems(){this.shownItems=Math.floor(this.sliderBody.clientWidth/this.translateStep),this.maxValue=(this.sliderItems.length-this.shownItems)*this.translateStep*-1}addListeners(){this.arrowNext.addEventListener("click",this.nextSlide),this.arrowPrev.addEventListener("click",this.prevSlide)}nextSlide(){this.translate>this.maxValue&&(0==this.translate&&this.arrowPrev.classList.remove("_unactive"),this.translate-=this.translateStep,this.translateSlider(),this.translate==this.maxValue&&this.arrowNext.classList.add("_unactive"))}prevSlide(){this.translate<0&&(this.arrowNext.classList.remove("_unactive"),this.translate+=this.translateStep,this.translateSlider(),0==this.translate&&this.arrowPrev.classList.add("_unactive"))}translateSlider(){this.sliderBody.style.transform=`translate(${this.translate}px,0px)`}}new l(document.querySelector(".feedbacks"),510,1);let c=new Set;const d=document.querySelectorAll(".selection-block-item");for(let e=0;e<d.length;e++){const t=new l(d[e],122,6);c.add(t)}const h=document.querySelectorAll(".selection-block-item__title");for(let e=0;e<h.length;e++){const t=h[e];t.addEventListener("click",(e=>{t.parentElement.classList.toggle("_open")}))}const m=document.querySelectorAll(".selection-block-item__btn");for(let e=0;e<m.length;e++)m[e].addEventListener("click",y);let u={},v=0;const _=document.querySelector(".chosen__total span"),p=document.querySelector(".chosen-slider"),b=document.querySelector(".chosen-slider__body"),f=document.querySelector(".chosen__scrollbar");function y(e){const t=e.target.parentElement,s=e.target.closest(".selection-block-item").dataset.materialcategory;s in u?t.classList.contains("_chosen")||L(t,s):(function(e){const t=`<div data-materialCategory="${e}" class="chosen-slider__item">\n        <div class="chosen-slider__title">${e}</div>\n        <div class="chosen-slider__content">\n        </div>\n    </div>`;b.insertAdjacentHTML("beforeend",t),u[e]=new Set}(s),L(t,s))}function S(e){_.innerHTML=--v;const t=e.target.parentElement;t.classList.remove("_chosen");const s=e.target.closest(".chosen-slider__item").dataset.materialcategory;u[s].delete(t.dataset.material),t.parentElement.removeChild(t),0==u[s].size&&function(e){const t=b.querySelector(`[data-materialcategory="${e}"]`);b.removeChild(t),delete u[e]}(s)}function L(e,t){_.innerHTML=++v,e.classList.add("_chosen"),u[t].add(e.dataset.material);const s=document.querySelector(`.chosen-slider__item[data-materialcategory="${t}"]`),n=e.querySelector("img").outerHTML,i=s.querySelector(".chosen-slider__content"),r=`<div data-material="${e.dataset.material}" class="chosen-slider__chosen-item">\n        ${n}\n        <button class="chosen-slider__btn">\n            <svg>\n            <use xlink:href="img/icons/sprite.svg#minus"></use>\n            </svg>\n        </button>\n    </div>`;i.insertAdjacentHTML("beforeend",r),b.scrollWidth>p.clientWidth?(f.classList.remove("_hidden"),w()):f.classList.add("_hidden"),function(e,t){b.querySelector(`.chosen-slider__item[data-materialcategory="${t}"] [data-material="${e}"] .chosen-slider__btn`).addEventListener("click",S)}(e.dataset.material,t)}let g,q;const x=f.querySelector("input");function w(){g=x.clientWidth,q=(b.scrollWidth-p.clientWidth)/100,E()}function E(){const e=Math.ceil(q*x.value,10);b.style.transform=`translate(-${e}px,0px)`}w(),document.querySelectorAll(".popular-item"),x.oninput=()=>{E()},window.onresize=e=>{w();for(let e of c)e.setShownItems();a(),A()},document.querySelector(".price__content");const k=document.querySelectorAll(".price-card");let T=12,B=!1;const I=document.querySelector(".price__btn");function A(){B||(window.matchMedia("(max-width: 768px)").matches?(T=6,M()):window.matchMedia("(max-width: 1150px)").matches?(T=12,M()):window.matchMedia("(max-width: 1300px)").matches?(T=9,M()):window.matchMedia("(min-width: 1300px)").matches&&(T=12,M()))}function M(){for(let e=T;e<k.length;e++)k[e].classList.add("_hidden");for(let e=0;e<T;e++)k[e].classList.remove("_hidden")}I.addEventListener("click",(e=>{if(B)I.classList.remove("_open"),B=!1,A();else{I.classList.add("_open"),B=!0;for(let e=T;e<k.length;e++)k[e].classList.remove("_hidden")}})),A(),document.querySelector(".selection-block__items");const $=document.querySelectorAll(".selection-block-item");let W=!1;const H=document.querySelector(".selection-block__btn");function j(){for(let e=7;e<$.length;e++)$[e].classList.add("_hidden");for(let e=0;e<7;e++)$[e].classList.remove("_hidden")}H.addEventListener("click",(e=>{if(W)H.classList.remove("_open"),W=!1,j();else{H.classList.add("_open"),W=!0;for(let e=7;e<$.length;e++)$[e].classList.remove("_hidden")}})),j(),function(){const e=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.dataset.ref,s=document.querySelector('header li[data-ref="'+t+'"');if(e.isIntersecting){const e=document.querySelector("header li._active");null!=e&&e.classList.remove("_active"),s.classList.add("_active")}}))}),{threshold:0,rootMargin:"-50px 0px -55% 0px"}),t=document.querySelectorAll("header li[data-ref]");for(let s=0;s<t.length;s++){const n=t[s].dataset.ref,i=document.querySelector('section[data-ref="'+n+'"');e.observe(i)}}(),function(){const e=document.querySelector(".burger");document.querySelectorAll("li[data-ref]").forEach((t=>{t.addEventListener("click",(function(s){s.preventDefault();const n=document.querySelector("header li._active");null!=n&&n.classList.remove("_active"),t.classList.add("_active");const i=t.dataset.ref,r=document.querySelector('section[data-ref="'+i+'"').getBoundingClientRect().top;topOffset=document.querySelector(".header").offsetHeight,e.classList.contains("_open")&&z();const o=r-topOffset;window.scrollBy({top:o,behavior:"smooth"})}))}))}();const C=document.querySelector(".footer__top-btn");"null"!=C&&C.addEventListener("click",(e=>{window.scrollTo({top:10,behavior:"smooth"})}));const N=document.querySelectorAll(".close-btn");for(let e=0;e<N.length;e++)N[e].addEventListener("click",P);function P(e){e.target.closest(".modal").classList.remove("_open")}document.querySelector(".feedbacks__btn").addEventListener("click",(e=>{document.querySelector(".feedback-form").classList.add("_open")}));const V=document.querySelector(".burger"),O=document.querySelector("header");function z(){O.classList.remove("_open"),V.classList.remove("_open"),document.body.classList.remove("_block")}V.addEventListener("click",(e=>{O.classList.toggle("_open"),V.classList.toggle("_open"),document.body.classList.toggle("_block")}))})();