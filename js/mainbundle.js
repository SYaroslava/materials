(()=>{const e=document.querySelectorAll(".category"),t=document.querySelector(".examples__tabs"),s=document.querySelector(".examples__categories");let i={},n=0;class o{constructor(e,s,i){this.category=i,this.tab=t.querySelector(`[data-tab="${e}"]`),this.index=s,this.prevBtn=this.tab.querySelector(".prev-category"),this.nextBtn=this.tab.querySelector(".next-category"),this.tabInfo=this.tab.querySelector(".tab__info"),this.targetElement=this.tab.querySelector(".tab__picture"),this.closeTab=this.closeTab.bind(this),this.openTab=this.openTab.bind(this),this.prevTab=this.prevTab.bind(this),this.nextTab=this.nextTab.bind(this)}moveTabInfo(e){e?this.tab.insertAdjacentElement("afterbegin",this.tabInfo):this.targetElement.insertAdjacentElement("afterend",this.tabInfo)}addEventListeners(){null!=this.prevBtn&&this.prevBtn.addEventListener("click",this.prevTab),null!=this.nextBtn&&this.nextBtn.addEventListener("click",this.nextTab)}removeEventListeners(){null!=this.prevBtn&&this.prevBtn.removeEventListener("click",this.prevTab),null!=this.nextBtn&&this.nextBtn.removeEventListener("click",this.nextTab)}prevTab(e){this.closeTab(),n=this.index-1,i[n].openTab()}nextTab(e){this.closeTab(),n=this.index+1,i[n].openTab()}closeTab(){this.category.classList.remove("_active"),this.tab.classList.remove("_open"),this.removeEventListeners()}openTab(){this.category.classList.add("_active"),this.tab.classList.add("_open"),this.addEventListeners()}}for(let t=0;t<e.length;t++){const s=e[t],a=new o(s.dataset.tab,t,s);i[t]=a,s.addEventListener("pointerdown",(e=>{event.stopPropagation(),n!=t&&(n=t,r(),i[t].openTab())}))}function r(){t.querySelector(".tab._open").classList.remove("_open"),s.querySelector(".category._active").classList.remove("_active")}function a(){if(window.matchMedia("(max-width: 768px)").matches)for(let t=0;t<e.length;t++)i[t].moveTabInfo(!0);else for(let t=0;t<e.length;t++)i[t].moveTabInfo(!1)}i[n].addEventListeners(),a();class c{constructor(e,t,s=0){this.section=e,this.sliderWrapper=this.section.querySelector(".slider"),this.sliderBody=this.section.querySelector(".slider__body"),this.sliderItems=this.sliderBody.querySelectorAll(".slider__item"),this.arrowNext=this.sliderWrapper.querySelector(".arrow-next"),this.arrowPrev=this.sliderWrapper.querySelector(".arrow-prev"),this.translate=0,this.translateStep=t,this.shownItems=Math.floor(this.sliderBody.clientWidth/this.translateStep),this.maxValue=(this.sliderItems.length-this.shownItems)*this.translateStep*-1,this.nextSlide=this.nextSlide.bind(this),this.prevSlide=this.prevSlide.bind(this),this.addListeners()}setShownItems(){this.shownItems=Math.floor(this.sliderBody.clientWidth/this.translateStep),this.maxValue=(this.sliderItems.length-this.shownItems)*this.translateStep*-1}addListeners(){this.arrowNext.addEventListener("click",this.nextSlide),this.arrowPrev.addEventListener("click",this.prevSlide)}nextSlide(){this.translate>this.maxValue&&(0==this.translate&&this.arrowPrev.classList.remove("_unactive"),this.translate-=this.translateStep,this.translateSlider(),this.translate==this.maxValue&&this.arrowNext.classList.add("_unactive"))}prevSlide(){this.translate<0&&(this.arrowNext.classList.remove("_unactive"),this.translate+=this.translateStep,this.translateSlider(),0==this.translate&&this.arrowPrev.classList.add("_unactive"))}translateSlider(){this.sliderBody.style.transform=`translate(${this.translate}px,0px)`}}new c(document.querySelector(".feedbacks"),510,1);let l=new Set;const d=document.querySelectorAll(".selection-block-item");for(let e=0;e<d.length;e++){const t=new c(d[e],122,6);l.add(t)}const h=document.querySelectorAll(".selection-block-item__title");for(let e=0;e<h.length;e++){const t=h[e];t.addEventListener("click",(e=>{t.parentElement.classList.toggle("_open")}))}const u=document.querySelectorAll(".selection-block-item__btn");for(let e=0;e<u.length;e++)u[e].addEventListener("click",y);let m={},p=0;const v=document.querySelector(".chosen__total span"),_=document.querySelector(".chosen-slider"),b=document.querySelector(".chosen-slider__body"),f=document.querySelector(".chosen__scrollbar");function y(e){const t=e.target.parentElement,s=e.target.closest(".selection-block-item").dataset.materialcategory;s in m?t.classList.contains("_chosen")||L(t,s):(function(e){const t=`<div data-materialCategory="${e}" class="chosen-slider__item">\n        <div class="chosen-slider__title">${e}</div>\n        <div class="chosen-slider__content">\n        </div>\n    </div>`;b.insertAdjacentHTML("beforeend",t),m[e]=new Set}(s),L(t,s))}function S(e){v.innerHTML=--p;const t=e.target.parentElement;t.classList.remove("_chosen");const s=e.target.closest(".chosen-slider__item").dataset.materialcategory;m[s].delete(t.dataset.material),t.parentElement.removeChild(t),0==m[s].size&&function(e){const t=b.querySelector(`[data-materialcategory="${e}"]`);b.removeChild(t),delete m[e]}(s)}function L(e,t){v.innerHTML=++p,e.classList.add("_chosen"),m[t].add(e.dataset.material);const s=document.querySelector(`.chosen-slider__item[data-materialcategory="${t}"]`),i=e.querySelector("img").outerHTML,n=s.querySelector(".chosen-slider__content"),o=`<div data-material="${e.dataset.material}" class="chosen-slider__chosen-item">\n        ${i}\n        <button class="chosen-slider__btn">\n            <svg>\n            <use xlink:href="img/icons/sprite.svg#minus"></use>\n            </svg>\n        </button>\n    </div>`;n.insertAdjacentHTML("beforeend",o),b.scrollWidth>_.clientWidth?(f.classList.remove("_hidden"),w()):f.classList.add("_hidden"),function(e,t){b.querySelector(`.chosen-slider__item[data-materialcategory="${t}"] [data-material="${e}"] .chosen-slider__btn`).addEventListener("click",S)}(e.dataset.material,t)}let g,q;const x=f.querySelector("input");function w(){g=x.clientWidth,q=(b.scrollWidth-_.clientWidth)/100,E()}function E(){const e=Math.ceil(q*x.value,10);b.style.transform=`translate(-${e}px,0px)`}w(),document.querySelectorAll(".popular-item"),x.oninput=()=>{E()},window.onresize=e=>{w();for(let e of l)e.setShownItems();a(),I(),X()},document.querySelector(".price__content");const k=document.querySelectorAll(".price-card");let T=12,W=!1;const B=document.querySelector(".price__btn");function I(){W||(window.matchMedia("(max-width: 768px)").matches?(T=6,A()):window.matchMedia("(max-width: 1150px)").matches?(T=12,A()):window.matchMedia("(max-width: 1300px)").matches?(T=9,A()):window.matchMedia("(min-width: 1300px)").matches&&(T=12,A()))}function A(){for(let e=T;e<k.length;e++)k[e].classList.add("_hidden");for(let e=0;e<T;e++)k[e].classList.remove("_hidden")}B.addEventListener("click",(e=>{if(W)B.classList.remove("_open"),W=!1,I();else{B.classList.add("_open"),W=!0;for(let e=T;e<k.length;e++)k[e].classList.remove("_hidden")}})),I(),document.querySelector(".selection-block__items");const M=document.querySelectorAll(".selection-block-item");let $=!1;const P=document.querySelector(".selection-block__btn");function j(){for(let e=7;e<M.length;e++)M[e].classList.add("_hidden");for(let e=0;e<7;e++)M[e].classList.remove("_hidden")}P.addEventListener("click",(e=>{if($)P.classList.remove("_open"),$=!1,j();else{P.classList.add("_open"),$=!0;for(let e=7;e<M.length;e++)M[e].classList.remove("_hidden")}})),j(),function(){const e=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.dataset.ref,s=document.querySelector('header li[data-ref="'+t+'"');if(e.isIntersecting){const e=document.querySelector("header li._active");null!=e&&e.classList.remove("_active"),s.classList.add("_active")}}))}),{threshold:0,rootMargin:"-50px 0px -55% 0px"}),t=document.querySelectorAll("header li[data-ref]");for(let s=0;s<t.length;s++){const i=t[s].dataset.ref,n=document.querySelector('section[data-ref="'+i+'"');e.observe(n)}}(),function(){const e=document.querySelector(".burger");document.querySelectorAll("li[data-ref]").forEach((t=>{t.addEventListener("click",(function(s){s.preventDefault();const i=document.querySelector("header li._active");null!=i&&i.classList.remove("_active"),t.classList.add("_active");const n=t.dataset.ref,o=document.querySelector('section[data-ref="'+n+'"').getBoundingClientRect().top;topOffset=document.querySelector(".header").offsetHeight,e.classList.contains("_open")&&z();const r=o-topOffset;window.scrollBy({top:r,behavior:"smooth"})}))}))}();const H=document.querySelector(".footer__top-btn");"null"!=H&&H.addEventListener("click",(e=>{window.scrollTo({top:10,behavior:"smooth"})}));const C=document.querySelectorAll(".close-btn");for(let e=0;e<C.length;e++)C[e].addEventListener("click",N);function N(e){document.body.classList.remove("_block"),e.target.closest(".modal").classList.remove("_open")}document.querySelector(".feedbacks__btn").addEventListener("click",(e=>{document.querySelector(".feedback-form").classList.add("_open"),document.body.classList.add("_block")}));const V=document.querySelector(".burger"),O=document.querySelector("header");function z(){O.classList.remove("_open"),V.classList.remove("_open"),document.body.classList.remove("_block")}V.addEventListener("click",(e=>{O.classList.toggle("_open"),V.classList.toggle("_open"),document.body.classList.toggle("_block")}));const D=document.querySelector(".footer__logo");function R(e){e?document.querySelector(".footer__body").insertAdjacentElement("afterbegin",D):document.querySelector(".footer__column").insertAdjacentElement("afterbegin",D)}function X(){window.matchMedia("(max-width: 768px)").matches?R(!0):R(!1)}X();const F=new class{constructor(e,t){this.sliderBody=document.querySelector(e),this.sliderWrapper=document.querySelector(t),this.width=this.sliderWrapper.clientWidth,this.startPosition=10,this.leftIndent=10,this.translate=0,this.position=10,this.setSliderWidth()}setSliderWidth(){this.sliderWidth=this.sliderBody.scrollWidth-this.sliderWrapper.offsetWidth,this.width=this.sliderWrapper.clientWidth}touchMove(e){const t=e-this.leftIndent-this.startPosition+this.translate;t<=0&&t>=-this.sliderWidth&&(this.position=t,this.sliderBody.style.transform=`translate(${this.position}px,0px`)}touchStart(e){this.leftIndent=this.sliderWrapper.getBoundingClientRect().left,this.width=this.sliderWrapper.clientWidth,this.startPosition=e,this.sliderWrapper.style.cursor="grab"}touchEnd(){this.translate=this.position,this.startPosition=this.position,this.sliderWrapper.style.cursor="default"}}(".examples__categories",".examples__content"),G=document.querySelector(".examples__categories");G.addEventListener("pointerenter",(e=>{const t=e.clientX;F.touchStart(t),G.addEventListener("touchmove",J)})),G.ontouchend=e=>{F.touchEnd(),G.removeEventListener("touchmove",J)};const J=e=>{e.cancelable&&e.preventDefault();const t=e.touches[0].clientX;F.touchMove(t)}})();